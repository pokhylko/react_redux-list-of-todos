{"version":3,"sources":["store/index.ts","api/api.js","components/Todo/Todo.tsx","components/TodoList/TodoList.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["STATUS","currentUser","state","user","todoStatus","status","getInput","input","startState","start","initialState","todos","sortedTodos","filter","todo","title","todoTitle","toLowerCase","includes","completed","store","createStore","action","type","map","id","todoId","sort","Math","random","composeWithDevTools","applyMiddleware","thunk","BASE_URL","todosFromServer","fetch","then","response","json","userFromServer","userId","Todo","dispatch","useDispatch","useSelector","checked","readOnly","onChange","className","cn","onClick","getUser","setUser","data","loadUser","TodoList","search","htmlFor","value","event","console","log","target","name","sortStatus","key","CurrentUser","email","phone","App","startLoad","getTodos","setTodos","loadTodos","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e19c9aaf.chunk.js","sourcesContent":["import { createStore, AnyAction, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { TodoInterface, UserInterface } from '../typedefs';\n\nexport const STATUS = {\n  all: 'all',\n  active: 'active',\n  complited: 'complited',\n};\n\n// Action types - is just a constant. MUST have a unique value.\nconst START_LOAD = 'START_LOAD';\nconst SET_TODOS = 'SET_TODOS';\nconst SET_USER = 'SET_USER';\nconst CLEAR_SELECTED_USER = 'CLEAR_SELECTED_USER';\nconst CHANGE_TODO_STATUS = 'CHANGE_TODO_STATUS';\nconst SORT_STATUS = 'SORT_STATUS';\nconst FILTER_INPUT = 'FILTER_INPUT';\nconst RANDOMIZE_TODOS = 'RANDOMIZE_TODOS';\nconst REMOVE_TODO = 'REMOVE_TODO';\n\n// Action creators - a function returning an action object\nexport const startLoad = (start: boolean) => ({ type: START_LOAD, start });\nexport const setTodos = (todos: TodoInterface[]) => ({ type: SET_TODOS, todos });\nexport const setUser = (user: UserInterface[]) => ({ type: SET_USER, user });\nexport const clearSelectedUser = () => ({ type: CLEAR_SELECTED_USER });\nexport const changeTodoStatus = (todoId: number) => ({ type: CHANGE_TODO_STATUS, todoId });\nexport const sortStatus = (status: string) => ({ type: SORT_STATUS, status });\nexport const filterInput = (input: string) => ({ type: FILTER_INPUT, input });\nexport const randomizeTodos = () => ({ type: RANDOMIZE_TODOS });\nexport const removeTodo = (todoId: number) => ({ type: REMOVE_TODO, todoId });\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const currentUser = (state: RootState) => state.user;\nexport const todoStatus = (state: RootState) => state.status;\nexport const getInput = (state: RootState) => state.input;\nexport const startState = (state: RootState) => state.start;\n\n// Initial state\nexport type RootState = {\n  todos: TodoInterface[],\n  user: UserInterface | null,\n  status: string,\n  input: string,\n  start: boolean,\n};\n\nconst initialState: RootState = {\n  todos: [],\n  user: null,\n  status: '',\n  input: '',\n  start: false,\n};\n\n// rootReducer - this function is called after dispatching an action\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOAD:\n      return { ...state, start: action.start };\n\n    case SET_TODOS:\n      return { ...state, todos: [...action.todos] };\n\n    case SET_USER:\n      return { ...state, user: action.user };\n    \n    case CLEAR_SELECTED_USER:\n      return { ...state, user: null };\n    \n    case CHANGE_TODO_STATUS:\n      return { ...state,\n        todos: [...state.todos].map((todo: TodoInterface) => todo.id !== action.todoId\n          ? todo\n          : {\n            ...todo,\n            completed: !todo.completed,\n          }\n        )\n      };\n\n    case SORT_STATUS:\n      return { ...state, status: action.status };\n\n    case FILTER_INPUT:\n      return { ...state, input: action.input };\n\n    case RANDOMIZE_TODOS:\n      return { ...state,\n        todos: [...state.todos].sort(() => Math.random() - 0.5),\n      };\n\n    case REMOVE_TODO:\n      return { ...state,\n        todos: [...state.todos].filter(todo => todo.id !== action.todoId),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const loadTodos = (getTodos: Function) => {\n  return (dispatch: Function) => {\n    getTodos()\n      .then((todos: any) => {\n        console.log(todos)\n        dispatch(setTodos(todos.data))\n      })\n  }\n};\n\nexport const loadUser = (getUser: Function, userId: number) => {\n  return (dispatch: Function) => {\n    getUser(userId)\n      .then((user: any) => {\n        dispatch(setUser(user.data))\n      })\n  }\n};\n\nconst searchTitle  = (todoTitle: string, input: string) => {\n  if (todoTitle.toLowerCase().includes(input.toLowerCase())) {\n    return true;\n  }\n\n  return false;\n}\n\nexport const sortedTodos = (state: RootState) => {\n  return [...state.todos]\n    .filter(todo => todo.title && searchTitle(todo.title, state.input))\n    .filter(todo => {\n      switch (state.status) {\n        case STATUS.active:\n          return !todo.completed;\n        case STATUS.complited:\n          return todo.completed;\n        default:\n          return todo;\n      }\n    })\n};\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk)), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport function todosFromServer() {\n  return fetch(`${BASE_URL}/todos`)\n    .then(response => response.json());\n}\n\nexport function userFromServer(userId) {\n  return fetch(`${BASE_URL}/users/${userId}`)\n    .then(response => response.json());\n}\n","import React, { FC } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './Todo.scss';\nimport { loadUser, currentUser, changeTodoStatus, removeTodo } from '../../store';\nimport { TodoInterface } from '../../typedefs';\nimport { userFromServer } from '../../api/api';\nimport cn from 'classnames';\n\ninterface Props {\n  todo: TodoInterface;\n}\n\nexport const Todo: FC<Props> = ({ todo }) => {\n  const { id, userId, title, completed } = todo;\n  const dispatch = useDispatch();\n\n  const user = useSelector(currentUser);\n\n  const changeStatus = () => {\n    dispatch(changeTodoStatus(id));\n  };\n\n  const loadUserInfo = () => {\n    dispatch(loadUser(userFromServer, userId));\n  };\n\n  const setRemoveTodo = () => {\n    dispatch(removeTodo(id));\n  };\n\n  return (\n    <>\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={completed}\n          readOnly\n          onChange={changeStatus}\n        />\n        <p>{title}</p>\n      </label>\n\n      <div className=\"TodoList_buttons\">\n        <button\n          className={cn(\n            'button',\n            'TodoList__user-button',\n            {\n              'TodoList__user-button--selected': user\n                ? user.id === userId\n                : false,\n            },\n          )}\n          type=\"button\"\n          onClick={loadUserInfo}\n        >\n          {`User #${userId}`}\n        </button>\n\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={setRemoveTodo}\n        >\n          Remove\n        </button>\n      </div>\n    </>\n  )\n}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './TodoList.scss';\nimport cn from 'classnames';\nimport { TodoInterface } from '../../typedefs';\nimport { Todo } from '../Todo/';\nimport { sortStatus, STATUS, todoStatus, getInput, filterInput, randomizeTodos } from '../../store';\n\ninterface Props {\n  todos: TodoInterface[];\n}\n\nexport const TodoList = ({ todos }: Props) => {\n  const dispatch = useDispatch();\n\n  const status = useSelector(todoStatus);\n  const search = useSelector(getInput);\n\n  const getFilterInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    console.log(event)\n    dispatch(filterInput(event.target.value));\n  };\n  \n  const getSortStatus = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    dispatch(sortStatus(event.target.value));\n  };\n  \n  const getRandomizeTodos = () => {\n    dispatch(randomizeTodos());\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__filter\">\n        <label htmlFor=\"search\">\n          Search\n          <input\n            type=\"text\"\n            id=\"search\"\n            value={search}\n            onChange={getFilterInput}\n          />\n        </label>\n\n        <label htmlFor=\"complete\">\n          Complite\n          <select\n            name=\"complete\"\n            id=\"complete\"\n            value={status}\n            onChange={getSortStatus}\n          >\n            <option value={STATUS.all}>{STATUS.all}</option>\n            <option value={STATUS.active}>{STATUS.active}</option>\n            <option value={STATUS.complited}>{STATUS.complited}</option>\n          </select>\n        </label>\n\n        <button\n          className=\"button\"\n          type=\"submit\"\n          onClick={getRandomizeTodos}\n        >\n          Randomize\n        </button>\n      </div>\n\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {todos.map((todo) => (\n            <li\n              className={cn(\n                'TodoList__item',\n                {\n                  'TodoList__item--checked': todo.completed,\n                  'TodoList__item--unchecked': !todo.completed,\n                },\n              )}\n              key={todo.id}\n            >\n              <Todo todo={todo} />\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import React, { FC } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport './CurrentUser.scss';\nimport { clearSelectedUser } from '../../store';\nimport { UserInterface } from '../../typedefs';\n\ninterface Props {\n  user: UserInterface;\n}\n\nexport const CurrentUser: FC<Props> = ({ user }) => {\n  const { id, name, email, phone } = user;\n  const dispatch = useDispatch();\n\n  const clearUser = () => {\n    dispatch(clearSelectedUser());\n  };\n\n  return (\n    <div className=\"CurrentUser\">\n      <h2 className=\"CurrentUser__title\">\n        <span>{`Selected user: ${id}`}</span>\n      </h2>\n\n      <h3 className=\"CurrentUser__name\">{name}</h3>\n      <p className=\"CurrentUser__email\">{email}</p>\n      <p className=\"CurrentUser__phone\">{phone}</p>\n\n      <button\n        className=\"CurrentUser__clear button\"\n        type=\"submit\"\n        onClick={clearUser}\n      >\n        Clear\n      </button>\n    </div>\n  )\n}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport './App.scss';\nimport { TodoList } from './components/TodoList/';\nimport { CurrentUser } from './components/CurrentUser/';\n\nimport { loadTodos, sortedTodos, currentUser, startLoad, startState } from './store';\nimport { todosFromServer } from './api/api';\n\nconst App = () => {\n  const todos = useSelector(sortedTodos);\n  const user = useSelector(currentUser);\n  const start = useSelector(startState);\n\n  const dispatch = useDispatch();\n\n  const getTodos = () => {\n    dispatch(startLoad(true));\n    dispatch(loadTodos(todosFromServer));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Redux list of todos</h1>\n\n      {!start\n        ? (\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={getTodos}\n          >\n            Start\n          </button>\n        )\n        : (\n          <div className=\"App__container\">\n            <div className=\"App__sidebar\">\n              <div className=\"TodoList\">\n                <TodoList todos={todos} />\n              </div>\n            </div>\n            <div className=\"App__content\">\n              {user\n                ? (<CurrentUser user={user} />)\n                : ('No user selected')\n              }\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}